(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,n){e.exports=n(68)},60:function(e,t,n){},64:function(e,t,n){},66:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(26),r=n.n(i),c=n(6),l=n(7),s=n(9),u=n(8),p=n(10),m=n(3),d=n(2),h=n(28),f=n.n(h).a.create({baseURL:"https://react-links-1df04.firebaseio.com/"}),b=n(11),v={links:[],groups:[]},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_LINK":var n=Object(d.a)({},e.groups);return n[t.link.topic].push(t.link),Object(d.a)({},e,{links:e.links.concat(t.link),groups:n});case"DATA_LOADED":return Object(d.a)({},e,{links:t.links});case"SET_TOPICS":return Object(d.a)({},e,{topics:t.topics});case"DATA_GROUPS_LOADED":return Object(d.a)({},e,{groups:t.groups});default:return e}},E=n(29),O=function(e){return function(e){return function(t){e(t)}}},g=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||b.c,_=Object(b.d)(k,g(Object(b.a)(O,E.a))),j=function(){return function(e){f.get("/links.json").then(function(t){var n=_.getState();console.log("Getting Links : ",n.topics);var a=[];for(var o in n.topics)"0"!=o&&a.push(n.topics[o].value);var i=[];for(var r in a){var c=[];for(var l in t.data)t.data[l].topic==a[r]&&c.push(Object(d.a)({},t.data[l],{id:l}));i[a[r]]=c}var s=[];for(var u in t.data)s.push(Object(d.a)({},t.data[u],{id:u}));console.log("fetchedGroups::",i),e({type:"DATA_LOADED",links:s}),e(function(e){return{type:"DATA_GROUPS_LOADED",groups:e}}(i))}).catch(function(e){console.log("Error:::::::::",e)})}},S=function(){return function(e){f.get("https://react-links-1df04.firebaseio.com/topics.json").then(function(t){var n=[{value:0,label:"..Seleccione uno..."}];for(var a in t.data)n.push({value:a,label:a});e({type:"SET_TOPICS",topics:n})}).catch(function(e){console.log("Errror: ",e)})}},y=(n(60),function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=[];for(var t in this.props.groups){var n=this.props.groups[t];e.push(o.a.createElement("li",{className:"main-group",key:t},o.a.createElement("h2",{className:"main-group__title"},t),o.a.createElement("ul",{className:"main-group__links"},n.map(function(e){return o.a.createElement("li",{key:e.id},o.a.createElement("a",{href:e.link,target:"_blank"}," ",e.title?e.title:"...no found"))})),o.a.createElement("p",{className:"main-group__footer"},o.a.createElement("span",{className:"footer__number"},n.length))))}return o.a.createElement("ul",{className:"main-groups"},e)}}]),t}(a.Component)),D=Object(m.b)(function(e){return{links:e.links,groups:e.groups}},function(e){return{onLoadData:function(){return e(j())}}})(y),N=n(13),L=n(4),w=n(30),C=n.n(w),A=(n(64),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={link:"",topicSelected:0,title:""},e.options=[],e.handleChange=e.handleChange.bind(Object(L.a)(Object(L.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(L.a)(Object(L.a)(e))),e.form=o.a.createRef(),e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.onInitTopics()}},{key:"handleChange",value:function(e){this.setState(Object(N.a)({},e.target.id,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state,n=t.link,a=t.topicSelected,o=t.title;0!==a&&(this.props.addLink({link:n,topic:a,title:o,id:C()()}),this.setState({link:"",topicSelected:0,title:""}))}},{key:"validate",value:function(){return this.form.current.reportValidity()}},{key:"render",value:function(){var e=this.state,t=e.link,n=e.topic,a=e.title,i=this.props.topics;return o.a.createElement("form",{className:"Form",ref:this.form,onSubmit:this.handleSubmit},o.a.createElement("div",{className:"Form__Row"},o.a.createElement("label",{htmlFor:"topicSelected"},"Topic: "),o.a.createElement("select",{className:"Form__Select",id:"topicSelected",value:n,onChange:this.handleChange,required:!0},void 0!=i?i.map(function(e){return o.a.createElement("option",{key:e.value},e.label)}):null)),o.a.createElement("div",{className:"Form__Row"},o.a.createElement("label",{htmlFor:"link"},"Link: "),o.a.createElement("input",{className:"Input",type:"text",id:"link",value:t,onChange:this.handleChange,autoComplete:"off",required:!0})),o.a.createElement("div",{className:"Form__Row"},o.a.createElement("label",{htmlFor:"title"},"Title:"),o.a.createElement("input",{className:"Input",type:"text",id:"title",value:a,onChange:this.handleChange,autoComplete:"off",required:!0})),o.a.createElement("div",{className:"Form__Row"},o.a.createElement("button",{className:"Btn Btn__Save",type:"submit"},"SAVE")))}}]),t}(a.Component)),T=Object(m.b)(function(e){return{topics:e.topics}},function(e){return{addLink:function(t){return e((n=t,function(e){f.post("links.json",n).then(function(t){e(function(e){return{type:"ADD_LINK",link:e}}(n))}).catch(function(e){console.log("Error:::::::",e)})}));var n},onInitTopics:function(){return e(S())}}})(A),F=(n(66),function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.onLoadTopics(),this.props.onLoadData()}},{key:"render",value:function(){return o.a.createElement("div",{className:"app"},o.a.createElement("div",{className:"Links"},o.a.createElement("h2",{className:"main-title"},"Links"),o.a.createElement(D,null)),o.a.createElement("div",{className:"Form"},o.a.createElement("h2",{className:"main-title"},"Add Link"),o.a.createElement(T,null)))}}]),t}(a.Component)),I=Object(m.b)(null,function(e){return{onLoadData:function(){return e(j())},onLoadTopics:function(){return e(S())}}})(F);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(m.a,{store:_},o.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[31,2,1]]]);
//# sourceMappingURL=main.917acd42.chunk.js.map